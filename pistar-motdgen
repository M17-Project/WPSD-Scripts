#!/bin/bash
#
##############################################################################
#                                                                            #
#                         Pi-Star MOTD Generator.                            #
#                                                                            #
#     Version 0.9, Code, Design and Development by Andy Taylor (MW0MWZ).     #
#                                                                            #
#                   Make it simple to update the /etc/motd.                  #
#                                                                            #
##############################################################################
#
# Make sure we are root, if we cant stop the services, the results are a bit hit and miss.
if [ "$(id -u)" != "0" ]; then
  echo -e "You need to be root to run this command...\n"
  exit 1
fi

COL_NC='\e[0m' # No Color
COL_LIGHT_GREEN='\e[1;32m'
COL_BRIGHT_GREEN='\e[1;92m'
COL_LIGHT_RED='\e[1;31m'
COL_BRIGHT_RED='\e[1;91m'
COL_LIGHT_CYAN='\e[1;36m'
COL_LIGHT_BLUE='\e[1;46m'
COL_LIGHT_MAGENTA='\e[1;95m'
COL_LIGHT_YELLOW='\e[1;93m'
BOLD='\e[1m'
REVERSE='\e[7m'
INFO="${BOLD}[i]${COL_NC}"

# Get the Pi-Star Version Info
pistarCurVersion=$(awk -F "= " '/Version/ {print $2}' /etc/pistar-release)

echo -e "${COL_LIGHT_CYAN}
                  ██╗    ██╗ ██████╗  ██████╗██╗  ██╗██████╗                    
                  ██║    ██║██╔═████╗██╔════╝██║  ██║██╔══██╗                   
                  ██║ █╗ ██║██║██╔██║██║     ███████║██████╔╝                   
                  ██║███╗██║████╔╝██║██║     ██╔══██║██╔═══╝                    
                  ╚███╔███╔╝╚██████╔╝╚██████╗██║  ██║██║                        
                   ╚══╝╚══╝  ╚═════╝  ╚═════╝╚═╝  ╚═╝╚═╝                        
                                                                                  
██████╗ ██╗███████╗████████╗ █████╗ ██████╗       ██████╗  █████╗ ███████╗██╗  ██╗
██╔══██╗██║██╔════╝╚══██╔══╝██╔══██╗██╔══██╗      ██╔══██╗██╔══██╗██╔════╝██║  ██║
██████╔╝██║███████╗   ██║   ███████║██████╔╝█████╗██║  ██║███████║███████╗███████║
██╔═══╝ ██║╚════██║   ██║   ██╔══██║██╔══██╗╚════╝██║  ██║██╔══██║╚════██║██╔══██║
██║     ██║███████║   ██║   ██║  ██║██║  ██║      ██████╔╝██║  ██║███████║██║  ██║
╚═╝     ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝      ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝
${COL_NC} 
[0;0mThe Pi-Star Dashboard can be found at one of the following locations:
[1;37mhttp://$(hostname)/  http://$(hostname).local/   http://$(hostname -I | awk '{print $1}')/

[0;0mPi-Star's disk is read-only by default, enable read-write with \"rpi-rw\".
Pi-Star built by Andy Taylor (MW0MWZ), Greatly enhanced & forked by W0CHP.

pi-star command-line tools all begin with \"pistar-\".

                Welcome to W0CHP-PiStar-Dash: ${COL_BRIGHT_RED}v${pistarCurVersion}${COL_NC}
" > /etc/motd
